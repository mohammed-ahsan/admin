import{r as l,S as W,f as B,j as e,e as A}from"./index-kaEKLpWB.js";import{u as M,E as b}from"./index.esm-UHEZOc8y.js";import{s as U}from"./spinner-R50PTWTV.js";import{P as R}from"./PageTitle-uhVa4RAW.js";import{I as h}from"./InputAreaTwo-mt1j2PUe.js";import{S}from"./SwitchToggle-Cy2HBZ9n.js";import{n as O}from"./Layout-XJLSbV9V.js";import{n as F,a as L}from"./toast-33DDocbW.js";import"./index.prod-QLvVMLGD.js";import"./iconBase-SdznC8D3.js";import"./useDispatch-bCGmUp1F.js";const V=s=>{const{setIsUpdate:w}=l.useContext(W),[o,m]=l.useState(!0),[C,I]=l.useState(""),[G,_]=l.useState(""),[p,a]=l.useState(!0),[x,T]=l.useState(!0),[P,r]=l.useState(!0),[N,d]=l.useState(!1),[v,c]=l.useState(!0),[E,y]=l.useState(!1),[u,j]=l.useState(!1),{register:k,handleSubmit:q,setValue:g,formState:{errors:K}}=M(),$=async i=>{var f,t;try{j(!0);const n={name:"storeSetting",setting:{cod_status:p,stripe_status:x,stripe_key:i.stripe_key,stripe_secret:i.stripe_secret,google_login_status:v,google_client_id:i.google_client_id,google_secret_key:i.google_secret_key,google_analytic_status:E,google_analytic_key:i.google_analytic_key,fb_pixel_status:P,fb_pixel_key:i.fb_pixel_key,tawk_chat_status:N,tawk_chat_property_id:i.tawk_chat_property_id,tawk_chat_widget_id:i.tawk_chat_widget_id}};if(o){const D=await O.addStoreSetting(n);w(!0),j(!1),window.location.reload(),L(D.message)}else{const D=await O.updateStoreSetting(n);w(!0),j(!1),window.location.reload(),L(D.message)}}catch(n){F(((t=(f=n==null?void 0:n.response)==null?void 0:f.data)==null?void 0:t.message)||(n==null?void 0:n.message)),j(!1)}};return l.useEffect(()=>{(async()=>{var i,f;try{const t=await O.getStoreSetting();t&&(m(!1),a(t.cod_status),T(t.stripe_status),r(t.fb_pixel_status),d(t.tawk_chat_status),c(t.google_login_status),y(t.google_analytic_status),g("stripe_key",t.stripe_key),g("stripe_secret",t.stripe_secret),g("google_client_id",t.google_client_id),g("google_secret_key",t.google_secret_key),g("google_analytic_key",t.google_analytic_key),g("fb_pixel_key",t.fb_pixel_key),g("tawk_chat_property_id",t.tawk_chat_property_id),g("tawk_chat_widget_id",t.tawk_chat_widget_id))}catch(t){F(((f=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:f.message)||t.message)}})()},[]),{errors:K,register:k,isSave:o,favicon:G,setFavicon:_,metaImg:C,setMetaImg:I,isSubmitting:u,onSubmit:$,handleSubmit:q,enabledCOD:p,setEnabledCOD:a,enabledStripe:x,setEnabledStripe:T,enabledFbPixel:P,setEnableFbPixel:r,enabledTawkChat:N,setEnabledTawkChat:d,enabledGoogleLogin:v,setEnabledGoogleLogin:c,enabledGoogleAnalytics:E,setEnabledGoogleAnalytics:y}},le=()=>{const{t:s}=B(),{isSave:w,errors:o,register:m,onSubmit:C,handleSubmit:I,isSubmitting:G,enabledCOD:_,setEnabledCOD:p,enabledStripe:a,setEnabledStripe:x,enabledFbPixel:T,setEnableFbPixel:P,enabledTawkChat:r,setEnabledTawkChat:N,enabledGoogleLogin:d,setEnabledGoogleLogin:v,enabledGoogleAnalytics:c,setEnabledGoogleAnalytics:E}=V(),y=(u,j,k)=>{k==="stripe"&&!u?(x(!a),p(!0)):k==="stripe"&&u?x(!a):k==="cod"&&!u?(p(!_),x(!0)):p(!_)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:s("StoreSetting")}),e.jsx("div",{className:"sm:container md:p-6 p-4 w-full mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg",children:e.jsx("form",{onSubmit:I(C),children:e.jsx("div",{className:"grid grid-cols-12 font-sans",children:e.jsx("div",{className:"col-span-12 md:col-span-12 lg:col-span-12 mr-3",children:e.jsxs("div",{className:"lg:px-6 pt-4 lg:pl-40 lg:pr-40 md:pl-5 md:pr-5 flex-grow scrollbar-hide w-full max-h-full pb-0",children:[e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsxs("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:[s("EnableCOD")," ",e.jsx("br",{}),e.jsx("span",{className:"text-xs font-normal text-gray-600 dark:text-gray-400",children:"(This is enabled by default)"})]}),e.jsx("div",{className:"sm:col-span-4",children:e.jsx(S,{id:"cod",processOption:_,handleProcess:y})})]}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("EnableStripe")}),e.jsx("div",{className:"sm:col-span-4",children:e.jsx(S,{id:"stripe",processOption:a,handleProcess:y})})]}),e.jsxs("div",{style:{height:a?"auto":0,transition:"all .6s",visibility:a?"visible":"hidden",opacity:a?"1":"0"},className:`${a?"mb-8":"mb-2"}`,children:[e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("StripeKey")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!a,register:m,label:s("StripeKey"),name:"stripe_key",type:"password",placeholder:s("StripeKey")}),e.jsx(b,{errorName:o.stripe_key})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("StripeSecret")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!a,register:m,label:s("StripeSecret"),name:"stripe_secret",type:"password",placeholder:s("StripeSecret")}),e.jsx(b,{errorName:o.stripe_secret})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("EnableGoogleLogin")}),e.jsx("div",{className:"sm:col-span-4",children:e.jsx(S,{id:"google_login",processOption:d,handleProcess:v})})]}),e.jsx("div",{style:{height:d?"auto":0,transition:"all .6s",visibility:d?"visible":"hidden",opacity:d?"1":"0"},className:`${d?"mb-8":"mb-2"}`,children:e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("GoogleClientId")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!d,register:m,label:s("GoogleClientId"),name:"google_client_id",type:"password",placeholder:s("GoogleClientId")}),e.jsx(b,{errorName:o.google_client_id})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("EnableGoggleAnalytics")}),e.jsx("div",{className:"sm:col-span-4",children:e.jsx(S,{id:"google_analytics",processOption:c,handleProcess:E})})]}),e.jsxs("div",{style:{height:c?"auto":0,transition:"all .6s",visibility:c?"visible":"hidden",opacity:c?"1":"0"},className:`${c?"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6":"mb-2"}`,children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("GoogleAnalyticKey")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!c,register:m,label:s("GoogleAnalyticKey"),name:"google_analytic_key",type:"password",placeholder:s("GoogleAnalyticKey")}),e.jsx(b,{errorName:o.google_analytic_key})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("EnableTawkChat")}),e.jsx("div",{className:"sm:col-span-4",children:e.jsx(S,{id:"tawk_chat",processOption:r,handleProcess:N})})]}),e.jsxs("div",{style:{height:r?"auto":0,transition:"all .6s",visibility:r?"visible":"hidden",opacity:r?"1":"0"},className:`${r?"mb-8":"mb-2"}`,children:[e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("TawkChatPropertyID")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!r,register:m,label:s("TawkChatPropertyID"),name:"tawk_chat_property_id",type:"password",placeholder:s("TawkChatPropertyID")}),e.jsx(b,{errorName:o.tawk_chat_property_id})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 items-center sm:grid-cols-12 gap-3 md:gap-5 xl:gap-6 lg:gap-6",children:[e.jsx("label",{className:"block md:text-sm md:col-span-1 sm:col-span-2 text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:s("TawkChatWidgetID")}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx(h,{required:!r,register:m,label:s("TawkChatWidgetID"),name:"tawk_chat_widget_id",type:"password",placeholder:s("TawkChatWidgetID")}),e.jsx(b,{errorName:o.tawk_chat_widget_id})]})]})]}),e.jsx("div",{className:"flex flex-row-reverse pb-6",children:G?e.jsxs(A.Button,{disabled:!0,type:"button",className:"h-12",children:[e.jsx("img",{src:U,alt:"Loading",width:20,height:10})," ",e.jsx("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):e.jsxs(A.Button,{type:"submit",className:"h-12 px-8",children:[" ",w?"Save":"Update"]})})]})})})})})]})};export{le as default};
